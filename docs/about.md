*a brief history of preoccupation with the star identification problem*

the story actually began back in the seventies and eighties, when from grade school onward it was always disturbing that, when outside looking at the night sky, it wasn’t easy to name many stars and constellations...

*1990, [photos](http://photos.starid.org) and [pdf](papers/1986 hemenway.pdf), [pdf](papers/1986 pierce.pdf), [pdf](papers/1987 hemenway.pdf)*

in the summer of ninety i was a twenty one year old astronomy undergrad in austin. in recent months, the berlin wall had fallen, and the hubble space telescope had finally reached orbit. i was living in a one room apartment by the back patio of a historic house, just north of campus. my landlady, martha ann zively, an eighty three year old local legend, lived overhead. rent was a hundred and fifty dollars per month. mobile phones, laptops, and the web were still over the horizon. twin peaks would appear in a few months, and the austin garage rock scene was again building steam.

the previous fall i’d become a research assistant with the hubble space telescope astrometry group. the group had members from the astronomy department, mcdonald observatory, the aerospace department, and the center for space research. my supervisor, paul hemenway, was a research scientist associated with all of these organizations. paul explained the group’s projects and where i might be able to help. he described how hubble was designed for very exact and stable pointing, since high angular resolution is very sensitive to smearing by motion. in a unique and highly sophisticated approach, three optical interferometers were mounted on robotic arms in the hubble focal plane. these were the fine guidance sensors. they'd monitor guide stars and provide feedback to the pointing control system. to evaluate and calibrate this system, very exact reference points were needed.

we'd use asteroids. this was the texas minor planet project. with help from group members in the center for space research and the aerospace department, we could refine our knowledge of asteroid orbits to the point where their predicted positions and motions were significantly more exact than hubble observations and therefore could be used as references. our primary tools for this would be a digital equipment corporation vax vms cluster at csr, the astronomy department vax running unix, various unix workstations, and the eighty two inch telescope at mcdonald. it could directly image an asteroid on a glass photographic plate, given enough time. for the long exposures needed to gather enough light from these dim objects, we depended on a data general nova minicomputer and a special, suitcase sized camera.

this was the cassegrain camera, another sophisticated piece of custom, analog eighties hardware. for exact guiding it used an image dissector, a photomultiplier tube attached to the side of the camera. it looked more like an engine part, an oil filter or an ignition distributor, than a science instrument. its circular field of view was divided into four quadrants, and a guide star in the camera focal plane was manually positioned at the center. then the closed loop control system was activated, and every second, with a loud mechanical click, the system would adjust the camera position and try to keep the guide star at the center. on a phosphorescent screen, the fuzzy image of the star bounced randomly about, now nearer the center, now further out.

here’s a walk through of observing with the camera, to give a feel for the era at the end of the eighties. an observing night began in the early evening, before sunset. down in the control room, which curved in a ring below the main floor of the telescope dome, the minicomputer and its control programs had to be started. from the control room one could step out onto a catwalk running in a circle around the dome, for a spectacular view of the shadows growing out from the mountains and across the high desert, and the lofty blue sky. various obsolete minicomputers and odd bits of hardware crowded the control room with enough pieces to make period sets for more than one sixties scifi movie. the curving walls and raised computer flooring added to the overall feel of an abandoned cold war bunker. on the computer consoles, red leds showed the astronomical time and the telescope pointing, and command line cursors blinked on a few terminals scattered about the room.

the glass photographic plates for the night were waiting on a desk, and as it grew dark we prepared for the first exposure. we first used a command line program on the nova to generate telescope pointing information for the asteroids we were interested in on this particular night. using this nova may have been my last contact with old school big eight inch floppy disks. after jotting down notes for our planned observations, we took the plates up into the dome, where it was pitch black except for clouds of stars in the open slit. the telescope loomed overhead in the darkness, and we carefully climbed the stairs up onto the circular telescope floor, which hydraulically rose and sank in order to stay near the camera as the telescope and dome moved ponderously toward widely separated points on the sky. one could easily walk off of the edge of the telescope floor in the dark, when it happened to be high above the dome floor.

using the bulky hand controller hanging from a hook on the telescope, we positioned the floor so that the camera was at eye level. it was a boxy instrument of white enameled metal, with the image dissector tube protruding at the side. sliding out the flat cover over the bottom opened a rectangular frame of stars large enough to place one's head inside, with the silhouette of the telescope secondary mirror housing and its spidery support struts high above. here inside the body of the camera was the focal plane of the telescope optics, where the photographic plate was fastened for exposure.

at the beginning of an observing night, we first had to check and calibrate the instruments, particularly on the first night of an observing run. observatory staff had mounted the camera to the telescope, and connected power and data lines, but fine calibrations were always needed. most importantly, the telescope had to be focused to adjust for thermal and structural changes. this meant adjusting the position of the secondary mirror within its housing, high overhead. a rocker switch on the hand controller activated a noisy motor to move the secondary inward or outward relative to the camera. the exact determination of focus was done old school style, using the knife edge test.

in the exact focal plane of the telescope, all of the light from a star converges through a single point. when a knife edge cuts through that point, the light from the star vanishes instantly. if the knife edge dimmed the star gradually, then the secondary mirror position needed to be adjusted. we wanted the point of pure, instant cutoff to be exactly where our photographic plates were held by the camera. there was a special metal frame with the shape and size of a photographic plate that we fastened into the camera, holding a straight metal edge. we placed one eye just behind the edge and then carefully watched it cut off the light from stars as we adjusted the secondary mirror. if there was a bit of spare time, the knife edge frame could be replaced with another metal frame holding the eyepiece, a heavy glass lens that required both hands to lift. peering into that crystal ball, one saw a colorful and mysterious world of nebulas and galaxies.

once the telescope was checked and ready, we could prepare the camera for the first exposure. each asteroid was a bit different, and various orbit characteristics had to be taken into account. in general though, asteroid motion relative to the camera field of view was quite significant, and made possible two types of exposures. either tracking the stars, with the asteroid moving along a trail, or vise versa.

during the exposure the camera operated in two modes. in stellar guiding mode the image dissector maintains a lock on a guide star by commanding the cass cam to move relative to the telescope. to prepare for this, the dissector has to be manually locked on to the guide star. the telescope is first pointed directly at the computed position of the asteroid. this means the slow swing of the telescope and dome across the sky, and adjustment of the observing floor height so it's comfortable to work. the asteroid is not visible, but it's now in the field of view of the cass cam plate holder. now to lock the dissector on to a guide star. at the rear of its cylindrical housing is a round phosphorus screen glowing green, not too different from an old school oscilloscope. an x and y axis divide the screen into four quadrants. when the light of a sufficiently bright star falls into the photo multiplier tube at the dissectors heart, photons cascade down and form a dim blob on the screen. with one of these blobs at the center of the screen, the dissector is activated and begins trying to keep the blob there, with a loud mechanical click every second. this steady clicking heartbeat soon fills the silence of the dome.

with the cass cam in guide star tracking mode, each star makes a small dark spot on the plate. now to prepare for mode two. with the high angular resolution and small field of view of the telescope, during an exposure of around ten minutes the motion of asteroids relative to the sky is significant. the relative direction and rate of asteroid motion was computed earlier by the nova down in the control room. the cass cam is bodily rotated relative to the telescope and programmed to move at the appropriate rate so that in mode two the asteroid is motionless relative to the plate. stellar guiding is off. the clicking heartbeat of the image dissector goes silent. the sky turns while the asteroid builds up its own small gaussian peak in the emulsion. then the steady clicking returns. stellar guiding mode again. the result is a dumbbell shape for stars, with two circular peaks connected by a trail. the asteroid is a trail with a single circular peak at its midpoint.

these peaks and trails are visible the next day when the plates are developed. each plate has many dumbbell shaped stellar trails - short or long, thick or thin - and at the center a single ufo shaped asteroid. now the next stage begins - extracting an asteroid’s position from a plate and improving knowledge of its orbit. this takes place back in austin. here the center for space research and department of aerospace engineering become involved. they play an important role in the hst astrometry group, providing expertise in orbit determination. ray duncombe was a leader of the field from sputnik onward. in 1990 the space age was roughly thirty years old, and the center for space research was the first generation, involved from the beginnings - ray, byron tapley, and bob schutz.

before numerical orbit analysis can proceed the plates have to be measured. plates are reduced to numerical values using an old school densitometer scanner and minicomputer controller in the back room of the astronomy department library, on the thirteenth floor of robert lee moore hall. this was my primary job, and i spent many hours in the scanning room. it was cool and filled with the steady roar of electronics fans. much of the room was dark except for computer lights. it was a meditative place. the long back wall was lined with cabinets containing thousands of glass plates. full sky sets of survey plates from palomar and european southern observatory. thousands more small plates from mcdonald. black plastic sheets divided off the back end of the room to keep out stray light, and alone at the center of this cave sat the pds microdensitometer. this was an advanced measuring engine, designed to mechanically scan glass plate images using analog, pre-silicon, pre-laser technology. it’s as interesting a time capsule as the cass cam. at its heart is a vertical beam of light. today it would be a laser, but in the pds normal light from a special bulb at the top is focused into a beam downward through the glass plate mounted on a mechanically driven stage with analog position sensors. a detector below the stage measures the intensity of the light passing through the plate while the stage moves the plate in a raster pattern. all analog. discrete sampling by the minicomputer creates a digital result.

my first observing run at mcdonald was early summer. paul and i made the day long drive to west texas, three or four nights making plates with the eighty two inch, and then the day long drive back to austin. the texas heat was just beginning to get intense. a few days after our return, i made the sweltering walk over to rlm and happily settled into the cool darkness of the scanning room. home was uncomfortably warm during the day in any case. time to scan the first of the plates we had brought back from the observatory. the plate is slightly smaller than a normal sheet of paper and the glass is fairly thin. it feels fragile enough that extra care is natural. held up against background light, the star and asteroid trails are small dark smudges. first step is to secure it to the scanning stage. with the dim light entering the scanning cave, if one’s eye is close to the stage and plate, looking right along their top surface, one can see the dull black trails of photographic emulsion on the surface of the glass. the minicomputer has to be told where on the plate to scan and preparation means manually moving the stage to position the scanning beam at the proper positions. in the top structure of the pds, roughly at eye level, is a circular glass screen. this screen shows a magnified image looking down the scanning beam through the plate and stage. individual dark grains of silver in the emulsion are easily visible on the screen, and when a star trail is in the beam it appears as a furry black worm. this is all old school analog optics - essentially a microscope projecting on the screen. the stage is moved using two finely geared knobs and the coordinates of the scan beam are shown by two sets of red leds on the pds console below the stage. tracing a rectangle around a star trail, the corners are the coordinates for a raster scan, and are read off by eye and typed into the minicomputer.

it’s a tall rack with electronics mounted in cases standing in the back corner. on a table beside the rack is a heavy monitor and console. this was one of the first primitive unix graphical interface systems i got to know well, and already it had the feel of an earlier era. not quite as far back as the era of the eighty two inch telescope or the pds, but early to mid eighties certainly. a scanning session meant creating a set of digitized raster images stored on old school nine track half inch tape, one file for each trail scanned by the pds. a group of files, say thirty to fifty for a plate with a good exposure and lots of stars, is created in the filesystem of the control minicomputer and then written to tape using its sibling above on the sixteenth floor, which has the tape drive. the shift over the border from analog to digital takes place in the seventies style electronics connecting the pds to the minicomputer.

a few days after scanning that first plate, i went to meet with paul and ray in the aerospace building. i vividly remember stopping and standing still under the texas sun, on the sidewalk leading from rlm to wrw. overhead was the typical hard blue summer sky and little white clouds, and i was already sweating just seconds after coming outside. i was thinking about the plate and suddenly had a flash of deep insight. exactly what were the stars on this plate? how could we identify these stars in order to determine the position of the asteroid trail? was there a program on the big astronomy department computers to do this? the answer was no. there was no easy solution. helping to figure out a practical method for our plates was part of my job. not that an undergrad was expected to solve a grand problem, but at least to sense the depth of the problem and what it meant. how does one identify stars? humans can do it. can an eighties computer system?

*2003, [photos](https://goo.gl/photos/TbwSuETNgM9b85AF7)*

thirteen years later i began grad school in aerospace, working from the first day for the icesat group at the center for space research, headed by bob schutz. bob was my advisor and boss for the next eleven years, until i was a postdoctoral fellow working with him on icesat two. as hoped and expected, my job concerned star trackers. these are telescopes used to determine orientation in space from the stars. they’re the direct descendent of the old school sextant used at sea for celestial navigation. again we’re looking at simple images of the sky with a scattering of stars. the lost in space problem is an aerospace classic. given a star tracker image of some stars, what stars are we looking at? aerospace deepened the problem. new perspectives. new cultural bents. new tools. astronomers didn’t generally think in terms of three dimensional unit vectors, rotation matrices, quaternions, and vector matrix notation. there were solutions to problems that seemed of interest for astronomy. maybe there were solutions for star identification? the ideas and history involved are interesting in themselves.

within a few weeks of joining the icesat team, star identification was again one of my major roadblock style problems, and once again the first question was whether there was already a practical solution easily available. to find out, i reconnected with people in the astronomy department after being out of touch for nine years or so. pete shelus from the old school hst astrometry days was a member of the icesat group, and mentioned i should talk with judit ries. she was working on characterizing near earth objects, a topic not far from the old texas minor planet project. if anyone local was knowledgeable about automated identification of stars, it would reasonably be judit. being back on the upper floors of rlm and discussing star identification, there was a strong feeling of continuity with the past. conditions seem right for making meaningful progress. here was a problem that really needed addressing. a solution could be useful for both astronomy and aerospace. common computers were much more powerful, and digital imaging was now standard. there was no longer and analog to digital divide to cross. the data was now in binary from the beginning. this much was clear.

our knowledge concerning a star image is important. is the image lost in space, or do we have knowledge that helps us identify its stars? here we’ll focus on pointing vectors. pure representations of direction in space, with length normalized to one. they point to positions on the sky. they’re three dimensional and with the unit constraint only two coordinates are significant. these can be expressed as latitude and longitude, right ascension and declination, or x and y in a plane tangent to the sky and its image in a sensor. the sky is a sphere formed by an infinite number of these pointing vectors. rotation about a pointing vector is an angle we’ll call yaw. face south with your right arm pointed west and look up at a star. your line of sight is the star pointing vector and your right arm is at zero yaw. knowledge concerning a star image means an estimate and uncertainty for its pointing vector. our convention is that the primary star to be identified is at the center of the image, so the image pointing vector is equivalent to the star pointing vector. the smaller the uncertainty of the image pointing vector, the more certain is our knowledge of the star pointing vector and its identity. when the image pointing vector is totally uncertain, we have the lost in space case.

with the icesat star trackers we weren’t lost in space. the onboard control system provided pointing estimates good to at least sixty arcseconds, and it was straightforward to predict which stars each image contained. this wasn’t obvious or simple to me at first, and i put a lot of thought into understanding what was known about the star image data pouring down from the spacecraft. there were four star imagers of three different types onboard, all working at ten hertz or more. these were 80s vintage star trackers, so they did not provide star ids automatically, as later generations do. there was also the high frequency angular rate data from the gyro unit, and the control system state estimate to consider.

resisting for now the urge to go into details, it’s enough to say that for every star image we could compute an accompanying pointing vector estimate and uncertainty, which greatly simplified star identification. in practice, it was enough to then use star brightness information and ask the question, is a star of the appropriate brightness observed near the predicted position in the image? an additional final check was that angles between observed stars matched predictions. angle checking did move firmly in the direction of using star triangles, but in practice was quite simple and limited. in general, star brightness information muddies the identification problem, not least because it’s complicated both to observe and to predict brightness for normal images. an image is more about spatial position than brightness. it’s fair to say that imagers are linear with respect to position and nonlinear with respect to brightness. an astronomer interested in brightness does photometry with dedicated sensors, not standard imagers. though brightness is a practical check of identification when the image pointing vector is good, for ideal starid it’s reasonable to avoid using it.

at this point, fall of 2003, i really got serious with the research literature on star identification, and the related topics of attitude estimation and the wahba problem. what quickly became apparent was a complete little self contained world within aerospace. there’s a special kind of elegance and purity to the field, as comfortable as home intellectually. its roots go directly back to old school celestial navigation, sextants, and sailing ships. the technology was eventually adapted to aircraft. many large second world war planes had a bubble window on top for the navigator to make celestial observations. after the war, computing and imaging allowed increasing automation. the cold war created an enormous technological force. many people became at least vaguely and uneasily aware of guidance technology. it had a certain aura of spies and james bond movies about it. while computers and inertial guidance were the main push, automated star tracking developed in parallel. certain aircraft still use daylight star trackers, and they are of course critical for spacecraft. we could say that the classical period, when the fundamental ideas were sketched out, was around the 70s and 80s. kind of a high cold war, baby boomers taking over era. lots of physicists fleeing the pop of the physics bubble around 1970. it turns out that pointing knowledge has more roles than one might naively think. the book inventing accuracy by donald mackenzie is highly recommended for insights on these, among other, topics.

another thing that became clear was that there was no open source project for the star identification problem, and that i should try to change this situation. eventually i’d even meet with the university intellectual property office concerning open source licensing of software developed for the icesat mission. it seems that each time star identification software has been developed, it’s for a commercial product or a restricted government project. if you were serious about star identification, you probably wanted to sell star trackers. this is a mature industry now, with plenty of sellers and not a lot of buyers. there’s no motivation to think that way anymore. it’s time to get open source projects underway and explore the intellectual aspects of the problem - machine learning especially. unfortunately the demands of icesat soon pushed things in other directions and there wasn’t time to make progress on the lost in space problem until many years later.

*2016*

another thirteen years passed. now i was in hamburg germany, after living in austin for thirty two years, 1982 to 2014. there is time to work on the lost in space problem during a german winter.

*notes*

[the story of mel](http://www.pbm.com/~lindahl/mel.html)

[wahba problem](https://en.wikipedia.org/wiki/Wahba's_problem)

[the quest for better attitudes](papers/2006 shuster.pdf)


